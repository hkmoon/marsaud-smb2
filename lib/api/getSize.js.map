{"version":3,"sources":["src/getSize.js"],"names":["path","cb","err","file","code","fileLength","i","EndofFile","length","Math","pow"],"mappings":";;AAEe,SAAUA,IAAV,CAAgBC,EAAhB,CAAoB;AACjC,uBAAQ,MAAR,CAAgB,CAACD,SAAD,CAAhB,CAAwB,IAAxB,CAA8B,SAACE,GAAD,CAAMC,IAAN,CAAe;AAC3C,GAAID,GAAJ,CAAS;AACP,GAAIA,IAAIE,IAAJ,GAAa,8BAAjB,CAAiD;AAC/CF,IAAIE,IAAJ,CAAW,QAAX;AACD;AACDH,GAAGC,GAAH;AACD,CALD,IAKO;AACL,GAAIG,YAAa,CAAjB;AACA,IAAK,GAAIC,GAAI,CAAb,CAAgBA,EAAIH,KAAKI,SAAL,CAAeC,MAAnC,CAA2CF,GAA3C,CAAgD;AAC9CD,YAAcF,KAAKI,SAAL,CAAeD,CAAf,EAAoBG,KAAKC,GAAL,CAAS,CAAT,CAAYJ,EAAI,CAAhB,CAAlC;AACD;AACDL,GAAG,IAAH,CAASI,UAAT;AACD;AACF,CAbD;AAcD,C,CAjBD","file":"getSize.js","sourcesContent":["import {request} from '../tools/smb2-forge'\n\nexport default function (path, cb) {\n  request('open', {path}, this, (err, file) => {\n    if (err) {\n      if (err.code === 'STATUS_OBJECT_NAME_NOT_FOUND') {\n        err.code = 'ENOENT'\n      }\n      cb(err)\n    } else {\n      let fileLength = 0\n      for (let i = 0; i < file.EndofFile.length; i++) {\n        fileLength += file.EndofFile[i] * Math.pow(2, i * 8)\n      }\n      cb(null, fileLength)\n    }\n  })\n}\n"]}